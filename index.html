<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta http-equiv="Content-Language" content="en" />
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="js/jquery.js"></script>
    <title>Chinese Outbound Tourists</title>
</head>

<style>

h1{
    font-family: "Miller Display Bold","Clarion", "Georgia", serif;
    text-align: center;
}


h2,h3,h4,h5,p{
    font-family: "Benton Sans","Arial",sans-serif;
    padding-left: 20px;
}

.credit{
    text-align: center;
    padding-top: 20px;
}

.date{
    text-align: center;
    padding-bottom: 20px;
}

#head{
    width:80%;
    margin-left: auto;
    margin-right: auto;
}

#main_container{
    margin-top: 50px;
}

.container{
    width: 40%;
    margin-top: 50px;
    margin-left: 0px;
}

.axis line {
  fill: none;
  stroke: lightgrey;
  shape-rendering: crispEdges;
}

.axis text{
    font-size: 12;
}

.line{
    fill:none;
    stroke:black;
    stroke-width:1.5px;
}

#source{
	color: black;
	margin-left: 20px;
	margin-right: 20px;
	margin-top: 40px;
	margin-bottom: 40px;
	border-top: 1px solid darkgrey;
}


</style>

<body style="background-color:#fff1e0">

<div id="head">
<h1>China Outbound Tourism in Review</h1>
<h5 class="credit">By JIEQIAN ZHANG</h5>
<h5 class="date">DEC.24, 2015</h5>
<h5 class="intro">Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus. No dicant moderatius ius, ullamcorper interpretaris ea mel. Zril aeterno tincidunt nec et. Falli omittantur vix ei. Erat congue pri in, qui inani accumsan incorrupte ad. Ea unum simul tritani his, soluta voluptatum assueverit qui at, an labore lucilius pro.
</h5>
<h5 class="intro">Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus. No dicant moderatius ius, ullamcorper interpretaris ea mel. Zril aeterno tincidunt nec et. Falli omittantur vix ei. Erat congue pri in, qui inani accumsan incorrupte ad. Ea unum simul tritani his, soluta voluptatum assueverit qui at, an labore lucilius pro.
</h5>
</div>



<div id="main_container">
   
    <div class="container">
        <p><strong>Hong Kong, Special Administration Region of China</strong></p>
        <p>Hong Kong has ranked the first for 10 years as the top desitination for Chinese mainland tourists.</p>
        <div id="graphic1"> 
        </div>
    </div>


    <div class="container">
        <p><strong>Macao, Special Administration Region of China</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus.</p>
        <div id="graphic2"> 
        </div>
    </div>

    <div class="container">
        <p><strong>South Korea</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus.</p>
        <div id="graphic3"> 
        </div>
    </div>

    <div class="container">
        <p><strong>Thailand</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus.</p>
        <div id="graphic4"> 
        </div>
    </div>

    <div class="container">
        <p><strong>Taiwan</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus.</p>
        <div id="graphic5"> 
        </div>
    </div>

    <div class="container">
        <p><strong>Japan</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus.</p>
        <div id="graphic6"> 
        </div>
    </div>

    <div class="container">
        <p><strong>United States</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus.</p>
        <div id="graphic7"> 
        </div>
    </div>

    <div class="container">
        <p><strong>Vietnam</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus.</p>
        <div id="graphic8"> 
        </div>
    </div>

    <div class="container">
        <p><strong>Malaysia</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudicabit, at mei graece doctus.</p>
        <div id="graphic9"> 
        </div>
    </div>

    <div class="container">
        <p><strong>Russia</strong></p>
        <p>Lorem ipsum dolor sit amet, verear intellegam eu quo, usu at essent explicari, has duis simul commodo no. Ad eos accusata iudcabit, at mei graece doctus.</p>
        <div id="graphic10"> 
        </div>
    </div>
</div>

<div id="source">
<h6>Data source: United Nation World Travel Organization (updated December 22, 2015) and World Bank Data</h6> 
</div>


<script src="//d3js.org/d3.v3.min.js"></script>


<!-- <script type="text/javascript" src="js/d3.min.js"></script> -->

<script>
var w = parseInt(d3.select(".container").style("width"), 10);

var windowWidth = $(window).width();

var margin = {top: 20, right: 15, bottom: 30, left: 50},
    width = w - margin.left - margin.right,
    height = 200 - margin.top - margin.bottom;

var parseDate = d3.time.format("%y").parse;

var x = d3.scale.linear()
    .range([0, width]);

var y = d3.scale.linear()
    .range([height, 0]);

var xAxis = d3.svg.axis()
    .scale(x)
    .orient("bottom")
    .tickSize(-height,0,0)
    .tickValues([2004,2006,2008,2010,2012,2014])
    .tickFormat(d3.format("d"));

var yAxis = d3.svg.axis()
    .scale(y)
    .orient("left")
    .tickSize(-windowWidth,0,0);

var area = d3.svg.area()
    .x(function(d) { return x(d.year); })
    .y0(height/2)
    .y1(function(d) { return y(d.increase_rate); });

var line = d3.svg.line()
     .x(function(d) { return x(d.year); })
     .y(function(d) { return y(d.increase_rate); });


d3.csv("data.csv", function(error, data) {
  if (error) throw error;

  data.forEach(function(d) {
    d.year = +d.year;
    d.incrase_rate = +d.increase_rate;
  });


  // draw the Hong Kong chart

  var svg_hk = d3.select("#graphic1").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_hk = data.filter(function(d,i){
    if (d.country_code === "HKG" & d.year >= 2004){
        return d;
    }
  });



  x.domain([2004,2014]);
  y.domain([-60,60]);

  yAxis.tickValues([50, 25, 0, -25, -50]);

  svg_hk.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_hk.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_hk.append("path")
      .datum(data_hk)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");


  svg_hk.append("path")
      .datum(data_hk)
      .attr("class", "line")
      .attr("d",line)

// draw the Macao chart

 var svg_mk = d3.select("#graphic2").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_mk = data.filter(function(d,i){
    if (d.country_code === "MAC" & d.year >= 2004){
        return d;
    }
  });

  x.domain([2004,2014]);
  y.domain([-60,60]);

  yAxis.tickValues([50, 25, 0, -25, -50]);

  svg_mk.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_mk.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_mk.append("path")
      .datum(data_mk)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_mk.append("path")
      .datum(data_mk)
      .attr("class", "line")
      .attr("d", line);

// draw the South Korea chart

 var svg_sk = d3.select("#graphic3").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_sk = data.filter(function(d,i){
    if (d.country_code === "KOR" & d.year >= 2004){
        return d;
    }
  });

  x.domain([2004,2014]);
  y.domain([-60,60]);

  yAxis.tickValues([50, 25, 0, -25, -50]);

  svg_sk.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_sk.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_sk.append("path")
      .datum(data_sk)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_sk.append("path")
      .datum(data_sk)
      .attr("class", "line")
      .attr("d", line);


// draw the Thailand chart

 var svg_th = d3.select("#graphic4").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_th = data.filter(function(d,i){
    if (d.country_code === "THA" & d.year >= 2004){
        return d;
    }
  });

  x.domain([2004,2014]);
  y.domain([-60,60]);

  yAxis.tickValues([50, 25, 0, -25, -50]);

  svg_th.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_th.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_th.append("path")
      .datum(data_th)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_th.append("path")
      .datum(data_th)
      .attr("class", "line")
      .attr("d", line);


  // draw the Taiwan chart

 var svg_tw = d3.select("#graphic5").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_tw = data.filter(function(d,i){
    if (d.country === "Taiwan" & d.year >= 2009){
        return d;
    }
  });


  x.domain([2004,2014]);
  y.domain([-210,210]);

  yAxis.tickValues([200, 100, 0, -100, -200]);

  svg_tw.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_tw.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_tw.append("path")
      .datum(data_tw)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_tw.append("path")
      .datum(data_tw)
      .attr("class", "line")
      .attr("d", line);



  // draw the Japan chart

 var svg_jp = d3.select("#graphic6").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_jp = data.filter(function(d,i){
    if (d.country_code === "JPN" & d.year >= 2004){
        return d;
    }
  });


  x.domain([2004,2014]);
  y.domain([-110,110]);

  yAxis.tickValues([100, 50, 0, -50, -100]);

  svg_jp.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_jp.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_jp.append("path")
      .datum(data_jp)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_jp.append("path")
      .datum(data_jp)
      .attr("class", "line")
      .attr("d", line);



  // draw the United States chart

 var svg_us = d3.select("#graphic7").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_us = data.filter(function(d,i){
    if (d.country_code === "USA" & d.year >= 2004){
        return d;
    }
  });


  x.domain([2004,2014]);
  y.domain([-110,110]);

  yAxis.tickValues([100, 50, 0, -50, -100]);

  svg_us.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_us.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_us.append("path")
      .datum(data_us)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_us.append("path")
      .datum(data_us)
      .attr("class", "line")
      .attr("d", line);


   // draw the Vietnam chart

 var svg_vt = d3.select("#graphic8").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_vt = data.filter(function(d,i){
    if (d.country_code === "VNM" & d.year >= 2004){
        return d;
    }
  });


  x.domain([2004,2014]);
  y.domain([-110,110]);

  yAxis.tickValues([100, 50, 0, -50, -100]);

  svg_vt.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_vt.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_vt.append("path")
      .datum(data_vt)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_vt.append("path")
      .datum(data_vt)
      .attr("class", "line")
      .attr("d", line);

   // draw the Malaysia chart

 var svg_ms = d3.select("#graphic9").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_ms = data.filter(function(d,i){
    if (d.country_code === "MYS" & d.year >= 2004){
        return d;
    }
  });


  x.domain([2004,2014]);
  y.domain([-110,110]);

  yAxis.tickValues([100, 50, 0, -50, -100]);

  svg_ms.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_ms.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_ms.append("path")
      .datum(data_ms)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_ms.append("path")
      .datum(data_ms)
      .attr("class", "line")
      .attr("d", line);


   // draw the Russia chart

 var svg_rs = d3.select("#graphic10").append("svg")
    .attr("width", width + margin.left + margin.right)
    .attr("height", height + margin.top + margin.bottom)
    .append("g")
    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  var data_rs = data.filter(function(d,i){
    if (d.country_code === "RUS" & d.year >= 2004){
        return d;
    }
  });


  x.domain([2004,2014]);
  y.domain([-110,110]);

  yAxis.tickValues([100, 50, 0, -50, -100]);

  svg_rs.append("g")
      .attr("class", "x axis")
      .attr("transform", "translate(0," + height + ")")
      .call(xAxis);

  svg_rs.append("g")
      .attr("class", "y axis")
      .call(yAxis)
      .append("text")
      .attr("transform", "rotate(-90)")
      .attr("y", -40)
      .attr("dy", ".71em")
      .style("text-anchor", "end")
      .text("Increase rate")
      .style("font-size","12");

  svg_rs.append("path")
      .datum(data_rs)
      .attr("class", "area")
      .attr("d", area)
      .style("fill","#9e2f50");

  svg_rs.append("path")
      .datum(data_rs)
      .attr("class", "line")
      .attr("d", line);



  d3.select(window).on("resize", resize);

    function resize() {
        // update width
        w = parseInt(d3.select(".container").style("width"), 10);
        width = w - margin.left - margin.right;


        // resize the chart
        x.range([0, width]);
        y.range([height, 0]);

        d3.select(svg_hk.node().parentNode)
            .style("width", (width + margin.left + margin.right) + "px");

        svg_hk.selectAll(".area")
            .attr("d", area);

        svg_hk.selectAll(".line")
            .attr("d",line);

        svg_hk.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_mk.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_mk.selectAll(".area")
        //     .attr("d", area);

        // svg_mk.selectAll(".line")
        //     .attr("d",line)

        // svg_mk.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_sk.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_sk.selectAll(".area")
        //     .attr("d", area);

        // svg_sk.selectAll(".line")
        //     .attr("d",line)

        // svg_sk.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_th.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_th.selectAll(".area")
        //     .attr("d", area);

        // svg_th.selectAll(".line")
        //     .attr("d",line)

        // svg_th.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_tw.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_tw.selectAll(".area")
        //     .attr("d", area);

        // svg_tw.selectAll(".line")
        //     .attr("d",line)

        // svg_tw.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_jp.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_jp.selectAll(".area")
        //     .attr("d", area);

        // svg_jp.selectAll(".line")
        //     .attr("d",line)

        // svg_jp.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_us.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_us.selectAll(".area")
        //     .attr("d", area);

        // svg_us.selectAll(".line")
        //     .attr("d",line)

        // svg_us.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_vt.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_vt.selectAll(".area")
        //     .attr("d", area);

        // svg_vt.selectAll(".line")
        //     .attr("d",line)

        // svg_vt.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_ms.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_ms.selectAll(".area")
        //     .attr("d", area);

        // svg_ms.selectAll(".line")
        //     .attr("d",line)

        // svg_ms.select("g").call(xAxis.orient("bottom"));


        // d3.select(svg_rs.node().parentNode)
        //     .style("width", (width + margin.left + margin.right) + "px");
       
        // svg_rs.selectAll(".area")
        //     .attr("d", area);

        // svg_rs.selectAll(".line")
        //     .attr("d",line)

        // svg_rs.select("g").call(xAxis.orient("bottom"));

    }




      
});



    



    
</script>

</body>